{"version":3,"sources":["D:/tools/es-vue/test/src/karma/Index.es"],"names":["getKeySymbols","Index","title","styles","_router","Manger","getInstance","setApp","register","routes","creator","main","obj","app","document","createElement","body","append","mount","lang","Lang","use","console","trace","format","start","getLocale","arg","test","name","globals","onMounted","log","fetch","router","_private","Router","mode","ro","callSuperGetter","path","redirect","meta","component","Home","List","locale","render","padding","getRoutes","Link","route","index","Layout"],"mappings":";;;;;;;;;wBAkBAA;UAsBIC;KACI;UAmEJC,MAAe;UAEfC,OAAS;;;aA5CDC;;;KAxBJ,AAAAC,OAAOC,cAAcC,OAAQ;KAC7B,AAAAF,OAAOC,cAAcE,SAAS;SAC1B,OAAO,KAAKC;;;OA1BxBC;;;;;;;SAGWC;;4BAAAA;iBAEH,MAAM,AAAAC,MAAM,IAAIX;iBAChB,MAAM,AAAAY,MAAM,AAAAC,SAASC,cAAc;iBACnC,AAAAD,SAASE,KAAKC,OAAQJ;iBACtB,AAAAD,IAAIM,MAAML,KAEV;uBAAM,AAAAM,OAAO,AAAAC,KAAKC;iBAElB,AAAAC,QAAQC,MAAO,AAAAJ,KAAKK,OAAO,aAAc;qBAAC,AAAAC,MAAM;oBAAa,AAAAN,KAAKO,YAAc,kBAAmB,AAAAN,KAAKI,OAAO,aAAc;qBAAC,AAAAC,MAAM;oBAAa,AAAAL,KAAKI,OAAO,QAAS,IAAK,AAAAJ,KAAKI,OAAO,QAAS;qBAAC,AAAAC,MAAM;;;;;;SAGrMA;;kCAAAA,MAAME;iBACP,MAAM,AAAAf,MAAM;iBACb,AAAAA,IAAIgB,IAAJ,GAAa;iBACb,AAAAhB,IAAIgB,MAAMC;;;SAaVC;;;0BAAAA;iBACA,OAAO;qBACH,AAAAV,KAAAA;;;;SAKRW;;4BAAAA;iBAKI,MAAM,AAAAZ,OAAO,AAAAC,KAAKC;iBAClB,AAAAC,QAAQU,IAAI,YAAa,AAAAb,KAAKc,MAAM;iBACpC,KAAK/B,KAAL,CAAa,AAAAiB,KAAKc,MAAM;;;SAGpB7B;;;;SAGJ8B;;;0BAAAA;oBACG,KAAAC,UAAA/B,QAAQ;wBAAO,KAAA+B,UAAA/B,QAClB;wBAAO,KAAA+B,UAAA/B,OAAA,CAAU,IAAIgC,OAAO;qBACxB,AAAAC,KAAK;qBACL,AAAA5B,OAAO,KAAKA;;;;SAKhBA;;;0BAAAA;iBAEA,MAAM,AAAA6B,WAAKC,2BAAM;iBACjB,AAAAjB,QAAQU,IAAKM,IAEb;yBAAO,AACH;qBACI,AAAAE,KAAK;qBACL,AAAAX,KAAK;qBACL,AAAAY,SAAS;mBAEb;qBACI,AAAAD,KAAK;qBACL,AAAAX,KAAK;qBACL,AAAAa,KAAK;yBAAC,AAAAxC,MAAM;;qBACZ,AAAAyC,UAAUC;mBAEd;qBACI,AAAAJ,KAAK;qBACL,AAAAX,KAAK;qBACL,AAAAa,KAAK;yBAAC,AAAAxC,MAAM;;qBACZ,AAAAyC,UAAUE;;;;SAKlBC;;;0BAAAA;iBACA,OAAO,AAAA1B,KAAKC;;;SAGhBnB;;;;;SAEAC;;;;;SAGA4C;;4BAAAA;iBACI,MAAM,AAAA5C,SAAO;qBACT,AAAA6C,QAAQ;;iBAGZ;;+BACc;;yBAAS,KAAA9C;;;+BACR;uBACO,KAAKgC,OAAOe,2CACrBC;4BAAS,AAAAC,MAAMX;qDAAU;6BAAYY;8CAAcjD;;;6BAAS,AAAAgD,MAAMtB;;;;iCAI1EwB","sourcesContent":["package karma;\r\n\r\nimport web.components.Router;\r\nimport web.components.Viewport;\r\nimport karma.pages.Home;\r\nimport karma.pages.List;\r\nimport web.components.Component;\r\nimport web.events.ComponentEvent;\r\nimport web.Application;\r\nimport web.components.Link;\r\nimport karma.asserts.IndexAssert;\r\nimport karma.Manger;\r\nimport karma.ui.Layout;\r\n\r\nimport web.Lang;\r\n\r\nimport \"../theme.scss\";\r\n\r\nclass Index extends Application{\r\n\r\n   // @main\r\n    static main(){\r\n\r\n        const obj = new Index();\r\n        const app = document.createElement('div')\r\n        document.body.append( app );\r\n        obj.mount(app);\r\n\r\n        const lang = Lang.use();\r\n\r\n        console.trace( lang.format('home.start', {start:'2002.12'}), lang.getLocale() , '---------------', Lang.format('home.start', {start:'2002.12'}), Lang.format('Begin', {}), Lang.format('start', {start:'2012'}) )\r\n    }\r\n\r\n    async start(arg){\r\n         const obj = {};\r\n        obj.test ??= null;\r\n        obj.test?.name;\r\n        //const name = obj ?? 12\r\n    }\r\n\r\n    constructor(){\r\n        super();\r\n        Manger.getInstance().setApp( this );\r\n        Manger.getInstance().register('routes',()=>{\r\n            return this.routes;\r\n        });\r\n    }\r\n\r\n    \r\n    get globals(){\r\n        return {\r\n            Lang\r\n        }\r\n    }\r\n\r\n    @Override\r\n    onMounted(){\r\n        when( Env(testframework, 'karma') ){\r\n            new IndexAssert(this as Component );\r\n        }\r\n\r\n        const lang = Lang.use();\r\n        console.log('onMounted', lang.fetch('home.title') )\r\n        this.title = lang.fetch('home.title');\r\n    }\r\n\r\n    private _router:Router;\r\n\r\n    \r\n    get router(){\r\n        if(_router)return _router;\r\n        return _router = new Router({\r\n            mode:'hash',\r\n            routes:this.routes\r\n        });\r\n    }\r\n\r\n    \r\n    get routes(){\r\n\r\n        const ro = super.routes;\r\n        console.log( ro )\r\n\r\n        return [\r\n            {\r\n                path:\"/\",\r\n                name:'default',\r\n                redirect:'/home',\r\n            },\r\n            {\r\n                path:\"/home\",\r\n                name:'Home',\r\n                meta:{title:\"Home\"},\r\n                component:Home\r\n            },\r\n            {\r\n                path:\"/list\",\r\n                name:'List',\r\n                meta:{title:\"List\"},\r\n                component:List\r\n            }\r\n        ]\r\n    }\r\n\r\n    get locale(){\r\n        return Lang.use();\r\n    }\r\n\r\n    title:string = 'Karma Testing555';\r\n\r\n    styles = 'ssss';\r\n\r\n    @Override\r\n    render(){\r\n        const styles={\r\n            padding:\"0 1rem\"\r\n        }\r\n         \r\n        return <div xmlns:d=\"@directives\" >\r\n            <h5 class=\"title\">{title}</h5>\r\n            <div class=\"menus\">\r\n                <d:each name={this.router.getRoutes()} item=\"route\" key=\"index\">\r\n                    <Link to={route.path} ref='menu' key={index} style={styles}>{route.name}</Link>\r\n                </d:each>\r\n            </div>\r\n            <br />\r\n            <Layout />\r\n        </div>\r\n    }\r\n\r\n}"]}