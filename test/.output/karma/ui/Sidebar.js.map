{"version":3,"sources":["D:/tools/es-vue/test/src/karma/ui/Sidebar.es"],"names":["creator","makeItems","routes","filter","item","res","show","map","has","children","length","path","meta","get","minWidth","onMounted","window","addEventListener","height","innerHeight","render","style","width","color","fontSize","background","borderRight","wrapStyle","overflowX","console","log","createRecord","reload","createComponent"],"mappings":";;;;;;;;;;;;;;;OAUAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAQIC;;4BAAAA,UAAUC;iBACN,OAAO,AAAAA,OAAOC,QAAQC;qBAClB,MAAM,AAAAC,MAAM,CAACD,MAAwBE;qBACrC,QAAQ,AAAAD,QAAQ;oBACjBE,KAAMH;qBACL,MAAM,AAAAI,MAAM,AAAAJ,KAAKK,YAAa,AAAAL,KAAKK,SAASC,SAAS;wBACjDF;yBACA;mCAA2B,AAAAJ,KAAKO;;;iCAE3B,KAAKV,UAAW,AAAAG,KAAKK;;;iCADJ,AAAAL,KAAKQ,QAAQ,QAAAC,YAAA,AAAAT,KAAKQ;;;;yBAIxC;mCAAwB,AAAAR,KAAKO;mCAAa;iCAAC,AAAAG,SAAS;;;;;wCACvC,AAAAV,KAAKO;;;yCAAO,AAAAP,KAAKQ,QAAQ,QAAAC,YAAA,AAAAT,KAAKQ;;;;;;;;;;SAOvDG;;4BAAAA;iBACI,AAAAC,OAAOC,iBAAiB;qBACpB,KAAKC,MAAL,CAAc,AAAAF,OAAOG,cAAY;;;;;SAKzCC;;4BAAAA;iBAEI,MAAM,AAAAC,QAAQ;qBACV,AAAAC,SAAS,KAAAA;qBACT,AAAAJ,UAAU,KAAAA;qBACV,AAAAK,MAAM;qBACN,AAAAC,SAAS;qBACT,AAAAC,WAAW;qBACX,AAAAC,YAAY;;iBAiBhB,MAAM,AAAAC,aAAY,AAAC;qBACf,AAAAC,UAAU;qBACV,AAAAV,UAAU,KAAAA;;iBAGd,AAAAW,QAAQC,IAAI,0BAEZ;;0CAAmBT;;;mCACOM;;;;sCACP;0CAAqB;uCAAc;qCAAC,AAAAD,YAAY;;;;qCACtD,KAAAzB,UAAU,KAAAC;;;;;;;;;;;;;uBAtE/B6B;uBAAAC;;;0BAAAC;;;;;;2BAE2B;;;;2BAAA;;;;0BACT,AAAAjB,OAAOG,cAAY;;;;0BAAnB,AAAAH,OAAOG,cAAY;;;;qBACpB;;;;qBAAA;;;;qBACO;;;;qBAAA;;;;qBACL;;;;qBAAA","sourcesContent":["package karma.ui;\r\n\r\nimport web.components.Component\r\nimport web.ui.Scrollbar;\r\nimport web.ui.Menu;\r\nimport web.ui.MenuItem;\r\nimport web.ui.MenuSubitem;\r\nimport web.components.RouteConfig;\r\nimport web.components.Link;\r\n\r\nclass Sidebar extends Component{\r\n\r\n    routes:RouteConfig[] = [];\r\n    height:number=window.innerHeight-1;\r\n    width:number=200;\r\n    logoHeight:number = 48;\r\n    title:string = '用户咨询列表'\r\n\r\n    makeItems(routes:RouteConfig[]){\r\n        return routes.filter( item=>{\r\n            const res = (item as {show:boolean}).show;\r\n            return (res !== false) as boolean;\r\n        }).map( (item)=>{\r\n            const has = item.children &&  item.children.length > 0;\r\n            if( has ){\r\n                return <MenuSubitem index={item.path}>\r\n                    <span slot:title>{item.meta && item.meta.title}</span>\r\n                    {this.makeItems( item.children )}\r\n                </MenuSubitem>\r\n            }else{\r\n                return <MenuItem index={item.path} style={{minWidth:\"100%\"}}>\r\n                   <Link to={item.path}>{item.meta && item.meta.title}</Link>\r\n                </MenuItem>\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    onMounted(){\r\n        window.addEventListener('resize',()=>{\r\n            this.height = window.innerHeight-1;\r\n        });\r\n    }\r\n\r\n    @Override\r\n    render(){\r\n\r\n        const style = {\r\n            width:`${width}px`,\r\n            height:`${height}px`,\r\n            color:\"#fff\",\r\n            fontSize:\"14px\",\r\n            background:\"#fff\",\r\n            borderRight:\"solid 1px #ebebeb\"\r\n        };\r\n\r\n        // const logoStyle = {\r\n        //     width:\"100%\",\r\n        //     height:`${logoHeight}px`,\r\n        //     display:\"flex\",\r\n        //     justifyContent:\"center\",\r\n        //     alignItems:\"center\",\r\n        //     color:\"#000\",\r\n        // };\r\n\r\n        // const imgStyle = {\r\n        //     maxHeight:`${logoHeight-logoHeight*0.3}px`,\r\n        //     marginRight:\"8px\"\r\n        // };\r\n\r\n        const wrapStyle = [{\r\n            overflowX:\"hidden\",\r\n            height:`${height}px`\r\n        }]\r\n\r\n        console.log('----Sidebar-render----'  );\r\n\r\n        return <div style={style}>\r\n            <Scrollbar wrapStyle={wrapStyle}>\r\n                <Menu mode='vertical' collapse={false} style={{borderRight:\"none\"}}>\r\n                    {makeItems(routes)}\r\n                </Menu>\r\n            </Scrollbar>\r\n        </div>\r\n    }\r\n\r\n\r\n}\r\n"]}