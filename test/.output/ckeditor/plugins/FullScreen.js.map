{"version":3,"sources":["D:/tools/es-vue/dist/types/ckeditor/plugins/FullScreen.d.es"],"names":["apply","construct","creator","pluginName","main","addLocale","init","editor","getContainer","target","classList","contains","parentNode","call","ui","componentFactory","locale","view","ButtonView","icon","status","label","t","tooltip","sourceElement","element","get","remove","is","removeAttribute","document","body","add","setAttribute","fire","System","setImmediate","editing"],"mappings":";;;;;;;oBAOAA;;eAAAC;;OAAAC;;;;;;SAEeC;;;0BAAAA;iBACP,OAAO;;;SAIJC;;4BAAAA;iBAET,AAAAC,UAAU,KAAM;qBACN,cAAc;qBACvB,sBAAsB;;iBAGjB,AAAAA,UAAU,QAAS;qBACf,cAAc;qBACvB,sBAAsB;;iBAGjB,AAAAA,UAAU,KAAM;qBACrB,cAAc;qBACL,sBAAsB;;;;;;SAI9BC;;4BAAAA;iBACF,MAAM,AAAAC,SAAS,KAAKA;iBACpB,MAAM,AAAAC,gBAAgBC;2BACfA;4BACF,AAAAA,OAAOC,UAAUC,SAAS;6BAC5B,OAAOF;;6BAEPA,MAAA,CAAS,AAAAA,OAAOG;;sBAGlB;4BAAO;;iBAGR,QAAAC,gBAAA,AAAAN,OAAOO,GAAGC,wBAAsB,cAAcC;qBAC7C,MAAM,AAAAC,OAAO,IAAIC,WAAYF;qBACpB,MAAM,AAAAG;qBACf,IAAI,AAAAC,SAAS;qBACb,QAAAP,gBAAAI,YAAS;yBACR,AAAAI,MAAO,AAAAd,OAAOe,EAAE;yBAChB,AAAAH,KAAKA;yBACL,AAAAI,QAAS;;qBAGV,QAAAV,gBAAAI,WAAQ;yBACK,MAAM,AAAAO,gBAAgB,AAAAhB,aAAa,AAAAD,OAAOO,GAAGW,WAAW,QAAAC,eAAA,QAAAA,eAAA,AAAAnB,OAAOO,GAAGG;4BAC9D,CAACO,cAAe;;4BAC7B,AAAAJ,UAAU;6BACG,AAAAI,cAAcd,UAAUiB,OAAO;gCAC3C,OAAAC,GAAA,AAAAJ,cAAcZ;iCAChB,AAAAY,cAAcZ,WAAWiB,gBAAgB;;6BAE1C,AAAAC,SAASC,KAAKF,gBAAiB;6BAC/B,QAAAhB,gBAAAI,YAAS;iCACR,AAAAI,MAAO,AAAAd,OAAOe,EAAE;iCAChB,AAAAH,KAAMA;iCACN,AAAAI,QAAS;;6BAEVH,MAAA,CAAS;;6BAEM,AAAAI,cAAcd,UAAUsB,IAAI;gCACxC,OAAAJ,GAAA,AAAAJ,cAAcZ;iCAChB,AAAAY,cAAcZ,WAAWqB,aAAc,4BAA6B;;6BAErE,AAAAH,SAASC,KAAKE,aAAc,sBAAuB;6BACnD,QAAApB,gBAAAI,YAAU;iCACT,AAAAI,MAAM,AAAAd,OAAOe,EAAE;iCACf,AAAAH,KAAMA;iCACN,AAAAI,QAAS;;6BAEVH,MAAA,CAAS;;yBAEE,AAAAb,OAAO2B,KAAK,aAAcd;yBACtC,AAAAe,OAAOC;6BACN,QAAAvB,gBAAA,AAAAN,OAAO8B,QAAQpB;;yBAGjB;4BAAOA;;;;;;QA1ECmB","sourcesContent":["package ckeditor.plugins;\r\n\r\nimport ButtonView from '@ckeditor/ckeditor5-ui/src/button/buttonview';\r\nimport ckeditor.core.Plugin\r\nimport ckeditor.ui.View\r\nimport {add as addLocale} from '@ckeditor/ckeditor5-utils/src/translation-service';\r\n\r\nclass FullScreen extends Plugin{\r\n\r\n    static get pluginName(){\r\n        return 'FullScreen';\r\n    }\r\n\r\n    @Main\r\n    static main(){\r\n\r\n\t\taddLocale('en', {\r\n            'Full Screen':'Full Screen',\r\n\t\t\t'Full Screen default':'Default'\r\n        })\r\n\r\n        addLocale('zh-cn', {\r\n            'Full Screen':'全屏',\r\n\t\t\t'Full Screen default':'默认'\r\n        })\r\n\r\n        addLocale('zh', {\r\n\t\t\t'Full Screen':'全屏',\r\n            'Full Screen default':'默认'\r\n        })\r\n    }\r\n\t\r\n    init() {\r\n\t\tconst editor = this.editor;\r\n\t\tconst getContainer = (target:HTMLElement)=>{\r\n\t\t\twhile(target){\r\n\t\t\t\tif(target.classList.contains('rich-text-editor')){\r\n\t\t\t\t\treturn target;\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttarget = target.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\teditor.ui.componentFactory.add( 'fullScreen', locale => {\r\n\t\t\tconst view = new ButtonView( locale );\r\n            const icon =  `<svg viewBox=\"1 1 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z\"/></svg>`\r\n\t\t\tlet status = 0;\r\n\t\t\tview.set({\r\n\t\t\t\tlabel: editor.t('Full Screen'),\r\n\t\t\t\ticon:icon,\r\n\t\t\t\ttooltip: true\r\n\t\t\t});\r\n\r\n\t\t\tview.on('execute', () => {\r\n                const sourceElement = getContainer(editor.ui.element || editor.ui.view.editable.element);\r\n                if( !sourceElement )return;\r\n\t\t\t\tif(status == 1) {\r\n                    sourceElement.classList.remove('fullscreen');\r\n\t\t\t\t\tif(sourceElement.parentNode is HTMLElement){\r\n\t\t\t\t\t\tsourceElement.parentNode.removeAttribute('data-ck-editor-fullscreen');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdocument.body.removeAttribute( 'ckeditor-fullscreen' );\r\n\t\t\t\t\tview.set({\r\n\t\t\t\t\t\tlabel: editor.t('Full Screen'),\r\n\t\t\t\t\t\ticon: icon,\r\n\t\t\t\t\t\ttooltip: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tstatus = 0;\r\n\t\t\t\t}else{\r\n                    sourceElement.classList.add('fullscreen')\r\n\t\t\t\t\tif(sourceElement.parentNode is HTMLElement){\r\n\t\t\t\t\t\tsourceElement.parentNode.setAttribute( 'data-ck-editor-fullscreen', 'fullscreen');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdocument.body.setAttribute( 'ckeditor-fullscreen', 'overlay');\r\n\t\t\t\t\tview.set( {\r\n\t\t\t\t\t\tlabel:editor.t('Full Screen default'),\r\n\t\t\t\t\t\ticon: icon,\r\n\t\t\t\t\t\ttooltip: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tstatus = 1;\r\n\t\t\t\t}\r\n                editor.fire('fullscreen', status);\r\n\t\t\t\tSystem.setImmediate(()=>{\r\n\t\t\t\t\teditor.editing.view.forceRender()\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\treturn view;\r\n\t\t});\r\n\t}\r\n\r\n}\r\n"]}